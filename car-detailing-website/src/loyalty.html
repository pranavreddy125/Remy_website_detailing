<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Desert Shine Detailing — Loyalty</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/styles.css">
  <style>
    .loyalty-shell{max-width:900px;margin:0 auto;}
    .loyalty-card{display:flex;flex-direction:column;gap:14px}
    .loyalty-header{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}
    .loyalty-header h1{margin:0;font-size:1.8rem}
    .stat-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px;margin-top:6px}
    .stat-box{background:#0b0b0b;border:1px solid var(--border);border-radius:10px;padding:14px 16px;box-shadow:var(--shadow)}
    .stat-box .label{color:var(--muted);text-transform:uppercase;letter-spacing:.06em;font-size:.75rem;margin:0 0 6px}
    .stat-box .value{margin:0;font-size:1.3rem;font-weight:700}
    .progress-wrap{margin-top:6px}
    .progress-rail{height:16px;border-radius:999px;background:#0b0b0b;border:1px solid var(--border);overflow:hidden;position:relative}
    .progress-fill{height:100%;width:0;background:linear-gradient(90deg,var(--accent),#f4e3a0);transition:width .3s ease}
    .progress-dots{display:flex;justify-content:space-between;gap:8px;margin-top:12px}
    .progress-dot{width:32px;height:32px;border-radius:50%;border:2px solid var(--border);display:flex;align-items:center;justify-content:center;color:var(--muted);background:#050505;font-weight:700;box-shadow:0 8px 18px rgba(0,0,0,0.4)}
    .progress-dot.filled{border-color:var(--accent);background:var(--accent);color:#0f0f0f;box-shadow:0 10px 24px rgba(0,0,0,0.55)}
    .reward-banner{border:1px solid var(--accent);background:#0b0b0b;border-radius:10px;padding:14px 16px;color:var(--accent);font-weight:700;display:none}
    .reward-banner.visible{display:block}
    .loyalty-actions{display:flex;flex-wrap:wrap;gap:12px;margin-top:10px}
    .status-line{color:var(--muted)}
    @media (max-width:640px){
      .loyalty-header h1{font-size:1.5rem}
      .progress-dot{width:28px;height:28px}
    }
  </style>
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <a class="brand" href="index.html">Desert Shine Detailing</a>

      <button class="nav-toggle" aria-label="Toggle navigation">
        <span class="hamburger"></span>
      </button>

      <nav class="main-nav" aria-label="Primary navigation">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="contact.html">Contact</a></li>
          <li><a href="payment.html">Payment</a></li>
          <li><a href="services.html">Services</a></li>
          <li><a href="booking.html">Booking</a></li>
          <li><a href="about.html">About Us</a></li>
        </ul>
      </nav>

      <div class="header-cta">
        <a class="btn signin" href="login.html">Sign In</a>
      </div>
    </div>
  </header>

  <main class="main-content">
    <section class="container loyalty-shell">
      <div class="gold-panel loyalty-card">
        <div class="loyalty-header">
          <div>
            <p class="form-section-title">Loyalty Dashboard</p>
            <h1>Welcome back, <span id="memberName">Guest</span></h1>
          </div>
          <p class="status-line" id="statusMessage">Loading your rewards...</p>
        </div>

        <div class="stat-grid">
          <div class="stat-box">
            <p class="label">Visit count</p>
            <p class="value" id="visitCount">0/4</p>
          </div>
          <div class="stat-box">
            <p class="label">Last visit</p>
            <p class="value" id="lastVisit">—</p>
          </div>
        </div>

        <div class="progress-wrap" aria-label="Loyalty progress">
          <div class="progress-rail">
            <div class="progress-fill" id="progressFill" style="width:0%"></div>
          </div>
          <div class="progress-dots" id="progressDots" aria-hidden="true"></div>
        </div>

        <div class="reward-banner" id="rewardMessage">Free wash earned! We will apply it to your next appointment.</div>

        <div class="loyalty-actions">
          <a class="btn primary" href="booking.html">Book Another Appointment</a>
          <button class="btn" id="logoutBtn" type="button">Log Out</button>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <p>&copy; <span id="year">2025</span> Desert Shine Detailing. All rights reserved.</p>
    </div>
  </footer>

  <script src="js/main.js"></script>
  <script src="js/loyalty.js"></script>
</body>
</html>
